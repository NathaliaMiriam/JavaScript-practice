<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula - JavaScript</title>

</head>
<body>    
    <h1>Curso - JavaScript</h1> 

        <div class="container">
            <button id="btn1">botão 1</button>
            <button id="btn2">botão 2</button>
            <button id="btn3">botão 3</button>
        </div>

        <div class="container2">
            <h2>Objeto Event</h2>

            <div id="d1" style="background-color: red; padding: 25px;">
                Texto dentro da div
                <span style="background-color: yellow;">Texto dentro da span</span>
            </div>
        </div>

        <script> 
            var btn1 = document.getElementById('btn1');
            var btn2 = document.getElementById('btn2');
            var btn3 = document.getElementById('btn3');         

            //aqui é level 2
            //é necessário pelo menos 2 parâmetros dentro do addEventListener (tipo do evento e função a ser executada)
           
            btn1.addEventListener('click', function(){
                alert('clique com dom level 2');
            });
           
            btn2.addEventListener('click', function(){
                alert('clique com dom level 2');
            });
           
            btn3.addEventListener("click", function(){
                alert('clique com dom level 2');
            });

            btn3.addEventListener("click", function(){
                alert('clique com dom level 2 em outro evento');
            });

            //aqui ñ é level 2 - mostrando apenas a diferença p incluir + de um evento
            btn3.onclick = function(){
                alert('Olá, mundo');
                alert('Como vai?');
            }

            var $d1 = document.querySelector('#d1');
            var $d1Span = document.querySelector('#d1 span');

            $d1.addEventListener('click', function(e){
                console.log('click no $d1');
                e.stopPropagation(); //stopPropagation - impede que o evento seja propagado
            }, true);

            $d1Span.addEventListener('click', function(){
                console.log('click no $d1Span');
            }, true);

            //captura de evento - é o terceiro parâmetro que podemos passar dentro do addEventListener
            //este 3º possibilita a troca de ordem de captura dos eventos
            //por padrão ele é false e ao colocar true, acontece a troca
            document.addEventListener('click', function(){
                console.log('clicou no document');
            }, true);

            document.addEventListener('click', function(evt){
                console.log('clicou no document');
                console.log(evt.currentTarget); //currentTarget - é o elemento a qual foi atrelado o evento. Neste caso, o próprio document
                console.log(this); //this - dentro da função, é o elemento a qual se atrela o evento. É o dono do evento
                console.log(evt.target); //target - é o elemento que disparou o evento                

                //currentTarget e o this - são praticamente a mesma coisa. São o elemento ao qual foi atrelado o evento. Neste caso, o document
            }, true);

        </script> 
</body>
</html>